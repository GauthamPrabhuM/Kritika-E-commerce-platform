<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Shopping Cart - Kritika</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<style>
		.cart-item {
			transition: all 0.3s ease;
		}
		.cart-item:hover {
			background-color: #f0fdf4;
		}
	</style>
</head>
<body class="bg-gray-50">
	<!-- Navigation -->
	<nav class="bg-white shadow-md sticky top-0 z-50">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
			<div class="flex justify-between items-center">
				<a href="/" class="flex items-center space-x-2 hover:opacity-80 transition">
					<div class="w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center">
						<i class="fas fa-leaf text-white text-lg"></i>
					</div>
					<span class="text-xl font-bold text-gray-900 hidden sm:inline">Kritika</span>
				</a>
				<div class="flex items-center space-x-4">
					<a href="/cart" class="relative">
						<div class="p-2 rounded-lg hover:bg-gray-100 transition">
							<i class="fas fa-shopping-bag text-emerald-600 text-xl"></i>
							{% if noOfItems > 0 %}
								<span class="absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold">
									{{noOfItems}}
								</span>
							{% endif %}
						</div>
					</a>
					{% if not loggedIn %}
						<a href="/loginForm" class="text-emerald-600 font-semibold">Sign In</a>
					{% else %}
						<div class="relative group">
							<button class="p-2 rounded-lg hover:bg-gray-100 transition">
								<i class="fas fa-user-circle text-gray-700 text-xl"></i>
							</button>
							<div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition z-50">
								<a href="/account/profile" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 transition">Your Profile</a>
								<a href="/logout" class="block px-4 py-2 text-red-600 hover:bg-red-50 transition">Sign Out</a>
							</div>
						</div>
					{% endif %}
				</div>
			</div>
		</div>
	</nav>

	<!-- Breadcrumb -->
	<div class="bg-white border-b">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
			<div class="flex items-center space-x-2 text-gray-600">
				<a href="/" class="hover:text-emerald-600 transition">Home</a>
				<span>/</span>
				<span class="text-emerald-600 font-semibold">Shopping Cart</span>
			</div>
		</div>
	</div>

	<!-- Main Content -->
	<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
		<h1 class="text-4xl font-bold text-gray-900 mb-2">Shopping Cart</h1>
		<p class="text-gray-600 mb-8">Review your items and proceed to checkout</p>

		<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
			<!-- Cart Items -->
			<div class="lg:col-span-2">
				{% if products %}
					<div class="bg-white rounded-lg shadow-sm overflow-hidden">
						<!-- Headers -->
						<div class="hidden md:grid md:grid-cols-12 gap-4 bg-gray-50 px-6 py-4 border-b font-semibold text-gray-700">
							<div class="md:col-span-5">Product</div>
							<div class="md:col-span-2 text-center">Price</div>
							<div class="md:col-span-3 text-center">Quantity</div>
							<div class="md:col-span-2 text-center">Action</div>
						</div>

						<!-- Cart Items -->
						<div class="divide-y">
							{% for row in products %}
								<div class="cart-item grid grid-cols-1 md:grid-cols-12 gap-4 px-6 py-6 items-center">
									<!-- Product Image & Info -->
									<div class="md:col-span-5">
										<div class="flex space-x-4">
											<div class="w-20 h-20 bg-gray-200 rounded-lg flex-shrink-0 overflow-hidden">
												<img src="{{ url_for('static', filename='uploads/' + row[3]) }}" alt="{{row[1]}}" class="w-full h-full object-cover">
											</div>
											<div>
												<h3 class="font-semibold text-gray-900">{{row[1]}}</h3>
												<p class="text-sm text-emerald-600 font-medium">In Stock</p>
											</div>
										</div>
									</div>

									<!-- Price -->
									<div class="md:col-span-2 text-center">
										<p class="font-bold text-lg text-emerald-600">${{row[2]}}</p>
									</div>

									<!-- Quantity (Static for now) -->
									<div class="md:col-span-3 flex justify-center">
										<div class="flex items-center space-x-2 border border-gray-300 rounded-lg px-3 py-2 w-fit">
											<button class="text-gray-600 hover:text-emerald-600">-</button>
											<span class="px-3 font-semibold">1</span>
											<button class="text-gray-600 hover:text-emerald-600">+</button>
										</div>
									</div>

									<!-- Remove Button -->
									<div class="md:col-span-2 flex justify-center">
										<a href="/removeFromCart?productId={{row[0]}}" class="px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition border border-red-200">
											<i class="fas fa-trash-alt mr-2"></i><span class="hidden sm:inline">Remove</span>
										</a>
									</div>
								</div>
							{% endfor %}
						</div>
					</div>

					<!-- Continue Shopping -->
					<div class="mt-6">
						<a href="/" class="inline-flex items-center space-x-2 text-emerald-600 hover:text-emerald-700 font-semibold transition">
							<i class="fas fa-arrow-left"></i>
							<span>Continue Shopping</span>
						</a>
					</div>
				{% else %}
					<!-- Empty Cart -->
					<div class="bg-white rounded-lg shadow-sm p-12 text-center">
						<i class="fas fa-shopping-bag text-6xl text-gray-300 mb-4"></i>
						<h3 class="text-2xl font-bold text-gray-900 mb-2">Your cart is empty</h3>
						<p class="text-gray-600 mb-6">Start shopping to add items to your cart</p>
						<a href="/" class="inline-block px-6 py-3 bg-emerald-600 text-white font-bold rounded-lg hover:bg-emerald-700 transition">
							<i class="fas fa-shopping-bag mr-2"></i>Continue Shopping
						</a>
					</div>
				{% endif %}
			</div>

			<!-- Order Summary -->
			<div class="lg:col-span-1">
				<div class="bg-white rounded-lg shadow-sm p-6 sticky top-20">
					<h2 class="text-2xl font-bold text-gray-900 mb-6">Order Summary</h2>

					{% if products %}
						<div class="space-y-4 mb-6">
							<div class="flex justify-between text-gray-700">
								<span>Subtotal</span>
								<span>${{totalPrice}}}</span>
							</div>
							<div class="flex justify-between text-gray-700">
								<span>Shipping</span>
								<span class="text-emerald-600 font-semibold">FREE</span>
							</div>
							<div class="flex justify-between text-gray-700">
								<span>Tax</span>
								<span>${{(totalPrice * 0.08)|round(2)}}</span>
							</div>
							<div class="border-t pt-4 flex justify-between text-lg font-bold text-gray-900">
								<span>Total</span>
								<span class="text-emerald-600">${{(totalPrice * 1.08)|round(2)}}</span>
							</div>
						</div>

						<a href="/checkout" class="w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-bold py-3 rounded-lg hover:from-emerald-700 hover:to-teal-700 transition flex items-center justify-center space-x-2">
							<i class="fas fa-credit-card"></i>
							<span>Proceed to Checkout</span>
						</a>

						<button class="w-full mt-3 border-2 border-gray-300 text-gray-700 font-semibold py-3 rounded-lg hover:bg-gray-50 transition">
							<i class="fas fa-heart mr-2"></i>Save for Later
						</button>
					{% else %}
						<p class="text-gray-600 text-center">Add items to your cart to see the summary</p>
					{% endif %}

					<!-- Security Info -->
					<div class="mt-8 p-4 bg-emerald-50 rounded-lg text-sm text-emerald-800">
						<i class="fas fa-lock mr-2"></i>
						<span>Your payment information is secure and encrypted</span>
					</div>
				</div>
			</div>
		</div>
	</main>

	<!-- Footer -->
	<footer class="bg-gray-900 text-gray-300 mt-16 py-12">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
				<div>
					<h4 class="text-white font-bold mb-4">About Kritika</h4>
					<p class="text-sm">Supporting artisans through authentic handcrafted products.</p>
				</div>
				<div>
					<h4 class="text-white font-bold mb-4">Shop</h4>
					<ul class="text-sm space-y-2">
						<li><a href="#" class="hover:text-emerald-400">All Products</a></li>
						<li><a href="#" class="hover:text-emerald-400">New Arrivals</a></li>
					</ul>
				</div>
				<div>
					<h4 class="text-white font-bold mb-4">Support</h4>
					<ul class="text-sm space-y-2">
						<li><a href="#" class="hover:text-emerald-400">Contact Us</a></li>
						<li><a href="#" class="hover:text-emerald-400">FAQ</a></li>
					</ul>
				</div>
				<div>
					<h4 class="text-white font-bold mb-4">Legal</h4>
					<ul class="text-sm space-y-2">
						<li><a href="#" class="hover:text-emerald-400">Privacy Policy</a></li>
						<li><a href="#" class="hover:text-emerald-400">Terms</a></li>
					</ul>
				</div>
			</div>
			<div class="border-t border-gray-800 pt-8 text-center text-sm">
				<p>&copy; 2025 Kritika. All rights reserved.</p>
			</div>
		</div>
	</footer>
</body>
</html>

